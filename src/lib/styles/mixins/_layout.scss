@use 'sass:map';
@use 'sass:meta';

@use "../variables" as *;
@use './breakpoints' as *;

// Generates classes for display properties
@mixin display() {
  .d-flex { display: flex; }
  .d-none { display: none; }
  .d-block  { display: block; }
  .d-inline { display: inline; }
}

// Generates classes for flex-specific properties
@mixin flexPositioning() {
  .flex-col { flex-direction: column; }
  .flex-reverse { flex-direction: column-reverse; }

  .justify-center { justify-content: center; }
  .justify-end { justify-content: end; }
  .justify-between { justify-content: space-between; }
  .justify-evenly { justify-content: space-evenly; }

  .align-center { align-items: center; }
  .align-start { align-items: flex-start; }
  .align-end { align-items: flex-end; }

  .content-center { align-content: center; }
}

// Generates classes for positioning
@mixin positioning() {
  .relative {position: relative};
  .absolute {position: absolute !important;}
}

// Generates classes for margins and paddings. ms/ps is left and me/pe is right
@mixin spacings($breakpoints: $grid-breakpoints) {
  @each $breakpoint in map.keys($breakpoints) {
    $name: breakpointName($breakpoint, $grid-breakpoints);

    @include media-breakpoint-up($breakpoint, $breakpoints) {
      @each $short, $property in $sides {
        @each $dir, $suffix in $directions {
          @each $sizeKey, $sizeValue in $sizes {
            $class: ".#{$short}#{$dir}#{$name}-#{$sizeKey}";

            #{$class} {
              @if meta.type-of($suffix) == 'list' {
                @each $side in $suffix {
                  #{$property}#{$side}: $sizeValue !important;
                }
              } @else {
                #{$property}#{$suffix}: $sizeValue !important;
              }
            }
          }
        }
      }
    }
  }
}

// Generates classes for height and width
@mixin sizes() {
  @each $percentage, $value in $percentages {
    .h-#{$percentage} {height: #{$value} !important;}

    .w-#{$percentage} {width: #{$value} !important;}
  }

  .h-fit {height: fit-content !important;}
  .w-fit {width: fit-content !important;}
}